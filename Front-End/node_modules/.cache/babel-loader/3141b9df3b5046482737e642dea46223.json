{"ast":null,"code":"!function (t, e) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define([], e) : \"object\" == typeof exports ? exports.Midi = e() : t.Midi = e();\n}(\"undefined\" != typeof self ? self : this, function () {\n  return function (t) {\n    var e = {};\n\n    function r(n) {\n      if (e[n]) return e[n].exports;\n      var i = e[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return t[n].call(i.exports, i, i.exports, r), i.l = !0, i.exports;\n    }\n\n    return r.m = t, r.c = e, r.d = function (t, e, n) {\n      r.o(t, e) || Object.defineProperty(t, e, {\n        enumerable: !0,\n        get: n\n      });\n    }, r.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, r.t = function (t, e) {\n      if (1 & e && (t = r(t)), 8 & e) return t;\n      if (4 & e && \"object\" == typeof t && t && t.__esModule) return t;\n      var n = Object.create(null);\n      if (r.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: t\n      }), 2 & e && \"string\" != typeof t) for (var i in t) r.d(n, i, function (e) {\n        return t[e];\n      }.bind(null, i));\n      return n;\n    }, r.n = function (t) {\n      var e = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };\n      return r.d(e, \"a\", e), e;\n    }, r.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, r.p = \"\", r(r.s = 4);\n  }([function (t, e, r) {\n    e.parseMidi = r(5), e.writeMidi = r(6);\n  }, function (t, e, r) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var n = r(2),\n        i = new WeakMap();\n    e.keySignatureKeys = [\"Cb\", \"Gb\", \"Db\", \"Ab\", \"Eb\", \"Bb\", \"F\", \"C\", \"G\", \"D\", \"A\", \"E\", \"B\", \"F#\", \"C#\"];\n\n    var a = function () {\n      function t(t) {\n        var r = this;\n        this.tempos = [], this.timeSignatures = [], this.keySignatures = [], this.meta = [], this.name = \"\", i.set(this, 480), t && (i.set(this, t.header.ticksPerBeat), t.tracks[0].forEach(function (t) {\n          t.meta && (\"timeSignature\" === t.type ? r.timeSignatures.push({\n            ticks: t.absoluteTime,\n            timeSignature: [t.numerator, t.denominator]\n          }) : \"setTempo\" === t.type ? r.tempos.push({\n            bpm: 6e7 / t.microsecondsPerBeat,\n            ticks: t.absoluteTime\n          }) : \"keySignature\" === t.type ? r.keySignatures.push({\n            key: e.keySignatureKeys[t.key + 7],\n            scale: 0 === t.scale ? \"major\" : \"minor\",\n            ticks: t.absoluteTime\n          }) : \"trackName\" === t.type ? r.name = t.text : \"endOfTrack\" !== t.type && r.meta.push({\n            text: t.text,\n            ticks: t.absoluteTime,\n            type: t.type\n          }));\n        }), this.update());\n      }\n\n      return t.prototype.update = function () {\n        var t = this,\n            e = 0,\n            r = 0;\n        this.tempos.sort(function (t, e) {\n          return t.ticks - e.ticks;\n        }), this.tempos.forEach(function (n, i) {\n          var a = i > 0 ? t.tempos[i - 1].bpm : t.tempos[0].bpm,\n              o = n.ticks / t.ppq - r,\n              s = 60 / a * o;\n          n.time = s + e, e = n.time, r += o;\n        }), this.timeSignatures.sort(function (t, e) {\n          return t.ticks - e.ticks;\n        }), this.timeSignatures.forEach(function (e, r) {\n          var n = r > 0 ? t.timeSignatures[r - 1] : t.timeSignatures[0],\n              i = (e.ticks - n.ticks) / t.ppq / n.timeSignature[0] / (n.timeSignature[1] / 4);\n          n.measures = n.measures || 0, e.measures = i + n.measures;\n        });\n      }, t.prototype.ticksToSeconds = function (t) {\n        var e = n.search(this.tempos, t);\n\n        if (-1 !== e) {\n          var r = this.tempos[e],\n              i = r.time,\n              a = (t - r.ticks) / this.ppq;\n          return i + 60 / r.bpm * a;\n        }\n\n        return .5 * (t / this.ppq);\n      }, t.prototype.ticksToMeasures = function (t) {\n        var e = n.search(this.timeSignatures, t);\n\n        if (-1 !== e) {\n          var r = this.timeSignatures[e],\n              i = (t - r.ticks) / this.ppq;\n          return r.measures + i / (r.timeSignature[0] / r.timeSignature[1]) / 4;\n        }\n\n        return t / this.ppq / 4;\n      }, Object.defineProperty(t.prototype, \"ppq\", {\n        get: function () {\n          return i.get(this);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.secondsToTicks = function (t) {\n        var e = n.search(this.tempos, t, \"time\");\n\n        if (-1 !== e) {\n          var r = this.tempos[e],\n              i = (t - r.time) / (60 / r.bpm);\n          return Math.round(r.ticks + i * this.ppq);\n        }\n\n        var a = t / .5;\n        return Math.round(a * this.ppq);\n      }, t.prototype.toJSON = function () {\n        return {\n          keySignatures: this.keySignatures,\n          meta: this.meta,\n          name: this.name,\n          ppq: this.ppq,\n          tempos: this.tempos.map(function (t) {\n            return {\n              bpm: t.bpm,\n              ticks: t.ticks\n            };\n          }),\n          timeSignatures: this.timeSignatures\n        };\n      }, t.prototype.fromJSON = function (t) {\n        this.name = t.name, this.tempos = t.tempos.map(function (t) {\n          return Object.assign({}, t);\n        }), this.timeSignatures = t.timeSignatures.map(function (t) {\n          return Object.assign({}, t);\n        }), this.keySignatures = t.keySignatures.map(function (t) {\n          return Object.assign({}, t);\n        }), this.meta = t.meta.map(function (t) {\n          return Object.assign({}, t);\n        }), i.set(this, t.ppq), this.update();\n      }, t;\n    }();\n\n    e.Header = a;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    function n(t, e, r) {\n      void 0 === r && (r = \"ticks\");\n      var n = 0,\n          i = t.length,\n          a = i;\n      if (i > 0 && t[i - 1][r] <= e) return i - 1;\n\n      for (; n < a;) {\n        var o = Math.floor(n + (a - n) / 2),\n            s = t[o],\n            u = t[o + 1];\n\n        if (s[r] === e) {\n          for (var c = o; c < t.length; c++) {\n            t[c][r] === e && (o = c);\n          }\n\n          return o;\n        }\n\n        if (s[r] < e && u[r] > e) return o;\n        s[r] > e ? a = o : s[r] < e && (n = o + 1);\n      }\n\n      return -1;\n    }\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.search = n, e.insert = function (t, e, r) {\n      if (void 0 === r && (r = \"ticks\"), t.length) {\n        var i = n(t, e[r], r);\n        t.splice(i + 1, 0, e);\n      } else t.push(e);\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.controlChangeNames = {\n      1: \"modulationWheel\",\n      2: \"breath\",\n      4: \"footController\",\n      5: \"portamentoTime\",\n      7: \"volume\",\n      8: \"balance\",\n      10: \"pan\",\n      64: \"sustain\",\n      65: \"portamentoTime\",\n      66: \"sostenuto\",\n      67: \"softPedal\",\n      68: \"legatoFootswitch\",\n      84: \"portamentoControl\"\n    }, e.controlChangeIds = Object.keys(e.controlChangeNames).reduce(function (t, r) {\n      return t[e.controlChangeNames[r]] = r, t;\n    }, {});\n\n    var n = new WeakMap(),\n        i = new WeakMap(),\n        a = function () {\n      function t(t, e) {\n        n.set(this, e), i.set(this, t.controllerType), this.ticks = t.absoluteTime, this.value = t.value;\n      }\n\n      return Object.defineProperty(t.prototype, \"number\", {\n        get: function () {\n          return i.get(this);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"name\", {\n        get: function () {\n          return e.controlChangeNames[this.number] ? e.controlChangeNames[this.number] : null;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"time\", {\n        get: function () {\n          return n.get(this).ticksToSeconds(this.ticks);\n        },\n        set: function (t) {\n          var e = n.get(this);\n          this.ticks = e.secondsToTicks(t);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.toJSON = function () {\n        return {\n          number: this.number,\n          ticks: this.ticks,\n          time: this.time,\n          value: this.value\n        };\n      }, t;\n    }();\n\n    e.ControlChange = a;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    var n = this && this.__awaiter || function (t, e, r, n) {\n      return new (r || (r = Promise))(function (i, a) {\n        function o(t) {\n          try {\n            u(n.next(t));\n          } catch (t) {\n            a(t);\n          }\n        }\n\n        function s(t) {\n          try {\n            u(n.throw(t));\n          } catch (t) {\n            a(t);\n          }\n        }\n\n        function u(t) {\n          t.done ? i(t.value) : new r(function (e) {\n            e(t.value);\n          }).then(o, s);\n        }\n\n        u((n = n.apply(t, e || [])).next());\n      });\n    },\n        i = this && this.__generator || function (t, e) {\n      var r,\n          n,\n          i,\n          a,\n          o = {\n        label: 0,\n        sent: function () {\n          if (1 & i[0]) throw i[1];\n          return i[1];\n        },\n        trys: [],\n        ops: []\n      };\n      return a = {\n        next: s(0),\n        throw: s(1),\n        return: s(2)\n      }, \"function\" == typeof Symbol && (a[Symbol.iterator] = function () {\n        return this;\n      }), a;\n\n      function s(a) {\n        return function (s) {\n          return function (a) {\n            if (r) throw new TypeError(\"Generator is already executing.\");\n\n            for (; o;) try {\n              if (r = 1, n && (i = 2 & a[0] ? n.return : a[0] ? n.throw || ((i = n.return) && i.call(n), 0) : n.next) && !(i = i.call(n, a[1])).done) return i;\n\n              switch (n = 0, i && (a = [2 & a[0], i.value]), a[0]) {\n                case 0:\n                case 1:\n                  i = a;\n                  break;\n\n                case 4:\n                  return o.label++, {\n                    value: a[1],\n                    done: !1\n                  };\n\n                case 5:\n                  o.label++, n = a[1], a = [0];\n                  continue;\n\n                case 7:\n                  a = o.ops.pop(), o.trys.pop();\n                  continue;\n\n                default:\n                  if (!(i = (i = o.trys).length > 0 && i[i.length - 1]) && (6 === a[0] || 2 === a[0])) {\n                    o = 0;\n                    continue;\n                  }\n\n                  if (3 === a[0] && (!i || a[1] > i[0] && a[1] < i[3])) {\n                    o.label = a[1];\n                    break;\n                  }\n\n                  if (6 === a[0] && o.label < i[1]) {\n                    o.label = i[1], i = a;\n                    break;\n                  }\n\n                  if (i && o.label < i[2]) {\n                    o.label = i[2], o.ops.push(a);\n                    break;\n                  }\n\n                  i[2] && o.ops.pop(), o.trys.pop();\n                  continue;\n              }\n\n              a = e.call(t, o);\n            } catch (t) {\n              a = [6, t], n = 0;\n            } finally {\n              r = i = 0;\n            }\n\n            if (5 & a[0]) throw a[1];\n            return {\n              value: a[0] ? a[1] : void 0,\n              done: !0\n            };\n          }([a, s]);\n        };\n      }\n    };\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var a = r(0),\n        o = r(7),\n        s = r(1),\n        u = r(9),\n        c = function () {\n      function t(t) {\n        var e = this,\n            r = null;\n        t && (t instanceof ArrayBuffer && (t = new Uint8Array(t)), (r = a.parseMidi(t)).tracks.forEach(function (t) {\n          var e = 0;\n          t.forEach(function (t) {\n            e += t.deltaTime, t.absoluteTime = e;\n          });\n        })), this.header = new s.Header(r), this.tracks = [], t && (this.tracks = r.tracks.map(function (t) {\n          return new u.Track(t, e.header);\n        }), 1 === r.header.format && 0 === this.tracks[0].duration && this.tracks.shift());\n      }\n\n      return t.fromUrl = function (e) {\n        return n(this, void 0, void 0, function () {\n          var r;\n          return i(this, function (n) {\n            switch (n.label) {\n              case 0:\n                return [4, fetch(e)];\n\n              case 1:\n                return (r = n.sent()).ok ? [4, r.arrayBuffer()] : [3, 3];\n\n              case 2:\n                return [2, new t(n.sent())];\n\n              case 3:\n                throw new Error(\"could not load \" + e);\n            }\n          });\n        });\n      }, Object.defineProperty(t.prototype, \"name\", {\n        get: function () {\n          return this.header.name;\n        },\n        set: function (t) {\n          this.header.name = t;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"duration\", {\n        get: function () {\n          var t = this.tracks.map(function (t) {\n            return t.duration;\n          });\n          return Math.max.apply(Math, t);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"durationTicks\", {\n        get: function () {\n          var t = this.tracks.map(function (t) {\n            return t.durationTicks;\n          });\n          return Math.max.apply(Math, t);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.addTrack = function () {\n        var t = new u.Track(void 0, this.header);\n        return this.tracks.push(t), t;\n      }, t.prototype.toArray = function () {\n        return o.encode(this);\n      }, t.prototype.toJSON = function () {\n        return {\n          header: this.header.toJSON(),\n          tracks: this.tracks.map(function (t) {\n            return t.toJSON();\n          })\n        };\n      }, t.prototype.fromJSON = function (t) {\n        var e = this;\n        this.header = new s.Header(), this.header.fromJSON(t.header), this.tracks = t.tracks.map(function (t) {\n          var r = new u.Track(void 0, e.header);\n          return r.fromJSON(t), r;\n        });\n      }, t.prototype.clone = function () {\n        var e = new t();\n        return e.fromJSON(this.toJSON()), e;\n      }, t;\n    }();\n\n    e.Midi = c;\n  }, function (t, e) {\n    function r(t) {\n      for (var e, r = new n(t), i = []; !r.eof();) {\n        var a = o();\n        i.push(a);\n      }\n\n      return i;\n\n      function o() {\n        var t = {};\n        t.deltaTime = r.readVarInt();\n        var n = r.readUInt8();\n\n        if (240 == (240 & n)) {\n          if (255 !== n) {\n            if (240 == n) {\n              t.type = \"sysEx\";\n              a = r.readVarInt();\n              return t.data = r.readBytes(a), t;\n            }\n\n            if (247 == n) {\n              t.type = \"endSysEx\";\n              a = r.readVarInt();\n              return t.data = r.readBytes(a), t;\n            }\n\n            throw \"Unrecognised MIDI event type byte: \" + n;\n          }\n\n          t.meta = !0;\n          var i = r.readUInt8(),\n              a = r.readVarInt();\n\n          switch (i) {\n            case 0:\n              if (t.type = \"sequenceNumber\", 2 !== a) throw \"Expected length for sequenceNumber event is 2, got \" + a;\n              return t.number = stream.readUInt16(), t;\n\n            case 1:\n              return t.type = \"text\", t.text = r.readString(a), t;\n\n            case 2:\n              return t.type = \"copyrightNotice\", t.text = r.readString(a), t;\n\n            case 3:\n              return t.type = \"trackName\", t.text = r.readString(a), t;\n\n            case 4:\n              return t.type = \"instrumentName\", t.text = r.readString(a), t;\n\n            case 5:\n              return t.type = \"lyrics\", t.text = r.readString(a), t;\n\n            case 6:\n              return t.type = \"marker\", t.text = r.readString(a), t;\n\n            case 7:\n              return t.type = \"cuePoint\", t.text = r.readString(a), t;\n\n            case 32:\n              if (t.type = \"channelPrefix\", 1 != a) throw \"Expected length for channelPrefix event is 1, got \" + a;\n              return t.channel = r.readUInt8(), t;\n\n            case 33:\n              if (t.type = \"portPrefix\", 1 != a) throw \"Expected length for portPrefix event is 1, got \" + a;\n              return t.port = r.readUInt8(), t;\n\n            case 47:\n              if (t.type = \"endOfTrack\", 0 != a) throw \"Expected length for endOfTrack event is 0, got \" + a;\n              return t;\n\n            case 81:\n              if (t.type = \"setTempo\", 3 != a) throw \"Expected length for setTempo event is 3, got \" + a;\n              return t.microsecondsPerBeat = r.readUInt24(), t;\n\n            case 84:\n              if (t.type = \"smpteOffset\", 5 != a) throw \"Expected length for smpteOffset event is 5, got \" + a;\n              var o = r.readUInt8();\n              return t.frameRate = {\n                0: 24,\n                32: 25,\n                64: 29,\n                96: 30\n              }[96 & o], t.hour = 31 & o, t.min = r.readUInt8(), t.sec = r.readUInt8(), t.frame = r.readUInt8(), t.subFrame = r.readUInt8(), t;\n\n            case 88:\n              if (t.type = \"timeSignature\", 4 != a) throw \"Expected length for timeSignature event is 4, got \" + a;\n              return t.numerator = r.readUInt8(), t.denominator = 1 << r.readUInt8(), t.metronome = r.readUInt8(), t.thirtyseconds = r.readUInt8(), t;\n\n            case 89:\n              if (t.type = \"keySignature\", 2 != a) throw \"Expected length for keySignature event is 2, got \" + a;\n              return t.key = r.readInt8(), t.scale = r.readUInt8(), t;\n\n            case 127:\n              return t.type = \"sequencerSpecific\", t.data = r.readBytes(a), t;\n\n            default:\n              return t.type = \"unknownMeta\", t.data = r.readBytes(a), t.metatypeByte = i, t;\n          }\n        } else {\n          var s;\n\n          if (0 == (128 & n)) {\n            if (null === e) throw \"Running status byte encountered before status byte\";\n            s = n, n = e, t.running = !0;\n          } else s = r.readUInt8(), e = n;\n\n          var u = n >> 4;\n\n          switch (t.channel = 15 & n, u) {\n            case 8:\n              return t.type = \"noteOff\", t.noteNumber = s, t.velocity = r.readUInt8(), t;\n\n            case 9:\n              var c = r.readUInt8();\n              return t.type = 0 === c ? \"noteOff\" : \"noteOn\", t.noteNumber = s, t.velocity = c, 0 === c && (t.byte9 = !0), t;\n\n            case 10:\n              return t.type = \"noteAftertouch\", t.noteNumber = s, t.amount = r.readUInt8(), t;\n\n            case 11:\n              return t.type = \"controller\", t.controllerType = s, t.value = r.readUInt8(), t;\n\n            case 12:\n              return t.type = \"programChange\", t.programNumber = s, t;\n\n            case 13:\n              return t.type = \"channelAftertouch\", t.amount = s, t;\n\n            case 14:\n              return t.type = \"pitchBend\", t.value = s + (r.readUInt8() << 7) - 8192, t;\n\n            default:\n              throw \"Unrecognised MIDI event type: \" + u;\n          }\n        }\n      }\n    }\n\n    function n(t) {\n      this.buffer = t, this.bufferLen = this.buffer.length, this.pos = 0;\n    }\n\n    n.prototype.eof = function () {\n      return this.pos >= this.bufferLen;\n    }, n.prototype.readUInt8 = function () {\n      var t = this.buffer[this.pos];\n      return this.pos += 1, t;\n    }, n.prototype.readInt8 = function () {\n      var t = this.readUInt8();\n      return 128 & t ? t - 256 : t;\n    }, n.prototype.readUInt16 = function () {\n      return (this.readUInt8() << 8) + this.readUInt8();\n    }, n.prototype.readInt16 = function () {\n      var t = this.readUInt16();\n      return 32768 & t ? t - 65536 : t;\n    }, n.prototype.readUInt24 = function () {\n      return (this.readUInt8() << 16) + (this.readUInt8() << 8) + this.readUInt8();\n    }, n.prototype.readInt24 = function () {\n      var t = this.readUInt24();\n      return 8388608 & t ? t - 16777216 : t;\n    }, n.prototype.readUInt32 = function () {\n      return (this.readUInt8() << 24) + (this.readUInt8() << 16) + (this.readUInt8() << 8) + this.readUInt8();\n    }, n.prototype.readBytes = function (t) {\n      var e = this.buffer.slice(this.pos, this.pos + t);\n      return this.pos += t, e;\n    }, n.prototype.readString = function (t) {\n      var e = this.readBytes(t);\n      return String.fromCharCode.apply(null, e);\n    }, n.prototype.readVarInt = function () {\n      for (var t = 0; !this.eof();) {\n        var e = this.readUInt8();\n        if (!(128 & e)) return t + e;\n        t += 127 & e, t <<= 7;\n      }\n\n      return t;\n    }, n.prototype.readChunk = function () {\n      var t = this.readString(4),\n          e = this.readUInt32();\n      return {\n        id: t,\n        length: e,\n        data: this.readBytes(e)\n      };\n    }, t.exports = function (t) {\n      var e = new n(t),\n          i = e.readChunk();\n      if (\"MThd\" != i.id) throw \"Bad MIDI file.  Expected 'MHdr', got: '\" + i.id + \"'\";\n\n      for (var a = function (t) {\n        var e = new n(t),\n            r = e.readUInt16(),\n            i = e.readUInt16(),\n            a = {\n          format: r,\n          numTracks: i\n        },\n            o = e.readUInt16();\n        return 32768 & o ? (a.framesPerSecond = 256 - (o >> 8), a.ticksPerFrame = 255 & o) : a.ticksPerBeat = o, a;\n      }(i.data), o = [], s = 0; !e.eof() && s < a.numTracks; s++) {\n        var u = e.readChunk();\n        if (\"MTrk\" != u.id) throw \"Bad MIDI file.  Expected 'MTrk', got: '\" + u.id + \"'\";\n        var c = r(u.data);\n        o.push(c);\n      }\n\n      return {\n        header: a,\n        tracks: o\n      };\n    };\n  }, function (t, e) {\n    function r(t, e, r) {\n      var a,\n          o = new i(),\n          s = e.length,\n          u = null;\n\n      for (a = 0; a < s; a++) !1 !== r.running && (r.running || e[a].running) || (u = null), u = n(o, e[a], u, r.useByte9ForNoteOff);\n\n      t.writeChunk(\"MTrk\", o.buffer);\n    }\n\n    function n(t, e, r, n) {\n      var i = e.type,\n          a = e.deltaTime,\n          o = e.text || \"\",\n          s = e.data || [],\n          u = null;\n\n      switch (t.writeVarInt(a), i) {\n        case \"sequenceNumber\":\n          t.writeUInt8(255), t.writeUInt8(0), t.writeVarInt(2), t.writeUInt16(e.number);\n          break;\n\n        case \"text\":\n          t.writeUInt8(255), t.writeUInt8(1), t.writeVarInt(o.length), t.writeString(o);\n          break;\n\n        case \"copyrightNotice\":\n          t.writeUInt8(255), t.writeUInt8(2), t.writeVarInt(o.length), t.writeString(o);\n          break;\n\n        case \"trackName\":\n          t.writeUInt8(255), t.writeUInt8(3), t.writeVarInt(o.length), t.writeString(o);\n          break;\n\n        case \"instrumentName\":\n          t.writeUInt8(255), t.writeUInt8(4), t.writeVarInt(o.length), t.writeString(o);\n          break;\n\n        case \"lyrics\":\n          t.writeUInt8(255), t.writeUInt8(5), t.writeVarInt(o.length), t.writeString(o);\n          break;\n\n        case \"marker\":\n          t.writeUInt8(255), t.writeUInt8(6), t.writeVarInt(o.length), t.writeString(o);\n          break;\n\n        case \"cuePoint\":\n          t.writeUInt8(255), t.writeUInt8(7), t.writeVarInt(o.length), t.writeString(o);\n          break;\n\n        case \"channelPrefix\":\n          t.writeUInt8(255), t.writeUInt8(32), t.writeVarInt(1), t.writeUInt8(e.channel);\n          break;\n\n        case \"portPrefix\":\n          t.writeUInt8(255), t.writeUInt8(33), t.writeVarInt(1), t.writeUInt8(e.port);\n          break;\n\n        case \"endOfTrack\":\n          t.writeUInt8(255), t.writeUInt8(47), t.writeVarInt(0);\n          break;\n\n        case \"setTempo\":\n          t.writeUInt8(255), t.writeUInt8(81), t.writeVarInt(3), t.writeUInt24(e.microsecondsPerBeat);\n          break;\n\n        case \"smpteOffset\":\n          t.writeUInt8(255), t.writeUInt8(84), t.writeVarInt(5);\n          var c = 31 & e.hour | {\n            24: 0,\n            25: 32,\n            29: 64,\n            30: 96\n          }[e.frameRate];\n          t.writeUInt8(c), t.writeUInt8(e.min), t.writeUInt8(e.sec), t.writeUInt8(e.frame), t.writeUInt8(e.subFrame);\n          break;\n\n        case \"timeSignature\":\n          t.writeUInt8(255), t.writeUInt8(88), t.writeVarInt(4), t.writeUInt8(e.numerator);\n          var h = 255 & Math.floor(Math.log(e.denominator) / Math.LN2);\n          t.writeUInt8(h), t.writeUInt8(e.metronome), t.writeUInt8(e.thirtyseconds || 8);\n          break;\n\n        case \"keySignature\":\n          t.writeUInt8(255), t.writeUInt8(89), t.writeVarInt(2), t.writeInt8(e.key), t.writeUInt8(e.scale);\n          break;\n\n        case \"sequencerSpecific\":\n          t.writeUInt8(255), t.writeUInt8(127), t.writeVarInt(s.length), t.writeBytes(s);\n          break;\n\n        case \"unknownMeta\":\n          null != e.metatypeByte && (t.writeUInt8(255), t.writeUInt8(e.metatypeByte), t.writeVarInt(s.length), t.writeBytes(s));\n          break;\n\n        case \"sysEx\":\n          t.writeUInt8(240), t.writeVarInt(s.length), t.writeBytes(s);\n          break;\n\n        case \"endSysEx\":\n          t.writeUInt8(247), t.writeVarInt(s.length), t.writeBytes(s);\n          break;\n\n        case \"noteOff\":\n          (u = (!1 !== n && e.byte9 || n && 0 == e.velocity ? 144 : 128) | e.channel) !== r && t.writeUInt8(u), t.writeUInt8(e.noteNumber), t.writeUInt8(e.velocity);\n          break;\n\n        case \"noteOn\":\n          (u = 144 | e.channel) !== r && t.writeUInt8(u), t.writeUInt8(e.noteNumber), t.writeUInt8(e.velocity);\n          break;\n\n        case \"noteAftertouch\":\n          (u = 160 | e.channel) !== r && t.writeUInt8(u), t.writeUInt8(e.noteNumber), t.writeUInt8(e.amount);\n          break;\n\n        case \"controller\":\n          (u = 176 | e.channel) !== r && t.writeUInt8(u), t.writeUInt8(e.controllerType), t.writeUInt8(e.value);\n          break;\n\n        case \"programChange\":\n          (u = 192 | e.channel) !== r && t.writeUInt8(u), t.writeUInt8(e.programNumber);\n          break;\n\n        case \"channelAftertouch\":\n          (u = 208 | e.channel) !== r && t.writeUInt8(u), t.writeUInt8(e.amount);\n          break;\n\n        case \"pitchBend\":\n          (u = 224 | e.channel) !== r && t.writeUInt8(u);\n          var f = 8192 + e.value,\n              p = 127 & f,\n              l = f >> 7 & 127;\n          t.writeUInt8(p), t.writeUInt8(l);\n          break;\n\n        default:\n          throw \"Unrecognized event type: \" + i;\n      }\n\n      return u;\n    }\n\n    function i() {\n      this.buffer = [];\n    }\n\n    i.prototype.writeUInt8 = function (t) {\n      this.buffer.push(255 & t);\n    }, i.prototype.writeInt8 = i.prototype.writeUInt8, i.prototype.writeUInt16 = function (t) {\n      var e = t >> 8 & 255,\n          r = 255 & t;\n      this.writeUInt8(e), this.writeUInt8(r);\n    }, i.prototype.writeInt16 = i.prototype.writeUInt16, i.prototype.writeUInt24 = function (t) {\n      var e = t >> 16 & 255,\n          r = t >> 8 & 255,\n          n = 255 & t;\n      this.writeUInt8(e), this.writeUInt8(r), this.writeUInt8(n);\n    }, i.prototype.writeInt24 = i.prototype.writeUInt24, i.prototype.writeUInt32 = function (t) {\n      var e = t >> 24 & 255,\n          r = t >> 16 & 255,\n          n = t >> 8 & 255,\n          i = 255 & t;\n      this.writeUInt8(e), this.writeUInt8(r), this.writeUInt8(n), this.writeUInt8(i);\n    }, i.prototype.writeInt32 = i.prototype.writeUInt32, i.prototype.writeBytes = function (t) {\n      this.buffer = this.buffer.concat(Array.prototype.slice.call(t, 0));\n    }, i.prototype.writeString = function (t) {\n      var e,\n          r = t.length,\n          n = [];\n\n      for (e = 0; e < r; e++) n.push(t.codePointAt(e));\n\n      this.writeBytes(n);\n    }, i.prototype.writeVarInt = function (t) {\n      if (t < 0) throw \"Cannot write negative variable-length integer\";\n      if (t <= 127) this.writeUInt8(t);else {\n        var e = t,\n            r = [];\n\n        for (r.push(127 & e), e >>= 7; e;) {\n          var n = 127 & e | 128;\n          r.push(n), e >>= 7;\n        }\n\n        this.writeBytes(r.reverse());\n      }\n    }, i.prototype.writeChunk = function (t, e) {\n      this.writeString(t), this.writeUInt32(e.length), this.writeBytes(e);\n    }, t.exports = function (t, e) {\n      if (\"object\" != typeof t) throw \"Invalid MIDI data\";\n      e = e || {};\n      var n,\n          a = t.header || {},\n          o = t.tracks || [],\n          s = o.length,\n          u = new i();\n\n      for (function (t, e, r) {\n        var n = null == e.format ? 1 : e.format,\n            a = 128;\n        e.timeDivision ? a = e.timeDivision : e.ticksPerFrame && e.framesPerSecond ? a = -(255 & e.framesPerSecond) << 8 | 255 & ticksPerFrame : e.ticksPerBeat && (a = 32767 & e.ticksPerBeat);\n        var o = new i();\n        o.writeUInt16(n), o.writeUInt16(r), o.writeUInt16(a), t.writeChunk(\"MThd\", o.buffer);\n      }(u, a, s), n = 0; n < s; n++) r(u, o[n], e);\n\n      return u.buffer;\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var n = r(0),\n        i = r(1),\n        a = r(8);\n\n    function o(t) {\n      return a(t.notes.map(function (e) {\n        return function (t, e) {\n          return [{\n            absoluteTime: t.ticks,\n            channel: e,\n            deltaTime: 0,\n            noteNumber: t.midi,\n            type: \"noteOn\",\n            velocity: Math.floor(127 * t.velocity)\n          }, {\n            absoluteTime: t.ticks + t.durationTicks,\n            channel: e,\n            deltaTime: 0,\n            noteNumber: t.midi,\n            type: \"noteOff\",\n            velocity: Math.floor(127 * t.noteOffVelocity)\n          }];\n        }(e, t.channel);\n      }));\n    }\n\n    function s(t, e) {\n      return {\n        absoluteTime: t.ticks,\n        channel: e,\n        controllerType: t.number,\n        deltaTime: 0,\n        type: \"controller\",\n        value: t.value\n      };\n    }\n\n    function u(t) {\n      return {\n        absoluteTime: 0,\n        channel: t.channel,\n        deltaTime: 0,\n        programNumber: t.instrument.number,\n        type: \"programChange\"\n      };\n    }\n\n    e.encode = function (t) {\n      var e = {\n        header: {\n          format: 1,\n          numTracks: t.tracks.length + 1,\n          ticksPerBeat: t.header.ppq\n        },\n        tracks: [[{\n          absoluteTime: 0,\n          deltaTime: 0,\n          meta: !0,\n          text: t.header.name,\n          type: \"trackName\"\n        }].concat(t.header.keySignatures.map(function (t) {\n          return function (t) {\n            var e = i.keySignatureKeys.indexOf(t.key);\n            return {\n              absoluteTime: t.ticks,\n              deltaTime: 0,\n              key: e + 7,\n              meta: !0,\n              scale: \"major\" === t.scale ? 0 : 1,\n              type: \"keySignature\"\n            };\n          }(t);\n        }), t.header.meta.map(function (t) {\n          return {\n            absoluteTime: (e = t).ticks,\n            deltaTime: 0,\n            meta: !0,\n            text: e.text,\n            type: e.type\n          };\n          var e;\n        }), t.header.tempos.map(function (t) {\n          return function (t) {\n            return {\n              absoluteTime: t.ticks,\n              deltaTime: 0,\n              meta: !0,\n              microsecondsPerBeat: Math.floor(6e7 / t.bpm),\n              type: \"setTempo\"\n            };\n          }(t);\n        }), t.header.timeSignatures.map(function (t) {\n          return function (t) {\n            return {\n              absoluteTime: t.ticks,\n              deltaTime: 0,\n              denominator: t.timeSignature[1],\n              meta: !0,\n              metronome: 24,\n              numerator: t.timeSignature[0],\n              thirtyseconds: 8,\n              type: \"timeSignature\"\n            };\n          }(t);\n        }))].concat(t.tracks.map(function (t) {\n          return [(e = t.name, {\n            absoluteTime: 0,\n            deltaTime: 0,\n            meta: !0,\n            text: e,\n            type: \"trackName\"\n          }), u(t)].concat(o(t), function (t) {\n            for (var e = [], r = 0; r < 127; r++) t.controlChanges.hasOwnProperty(r) && t.controlChanges[r].forEach(function (r) {\n              e.push(s(r, t.channel));\n            });\n\n            return e;\n          }(t));\n          var e;\n        }))\n      };\n      return e.tracks = e.tracks.map(function (t) {\n        t = t.sort(function (t, e) {\n          return t.absoluteTime - e.absoluteTime;\n        });\n        var e = 0;\n        return t.forEach(function (t) {\n          t.deltaTime = t.absoluteTime - e, e = t.absoluteTime, delete t.absoluteTime;\n        }), t.push({\n          deltaTime: 0,\n          meta: !0,\n          type: \"endOfTrack\"\n        }), t;\n      }), new Uint8Array(n.writeMidi(e));\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    function n(t) {\n      return function t(e, r) {\n        for (var n = 0; n < e.length; n++) {\n          var i = e[n];\n          Array.isArray(i) ? t(i, r) : r.push(i);\n        }\n\n        return r;\n      }(t, []);\n    }\n\n    function i(t, e) {\n      if (\"number\" != typeof e) throw new TypeError(\"Expected the depth to be a number\");\n      return function t(e, r, n) {\n        n--;\n\n        for (var i = 0; i < e.length; i++) {\n          var a = e[i];\n          n > -1 && Array.isArray(a) ? t(a, r, n) : r.push(a);\n        }\n\n        return r;\n      }(t, [], e);\n    }\n\n    t.exports = function (t) {\n      if (!Array.isArray(t)) throw new TypeError(\"Expected value to be an array\");\n      return n(t);\n    }, t.exports.from = n, t.exports.depth = function (t, e) {\n      if (!Array.isArray(t)) throw new TypeError(\"Expected value to be an array\");\n      return i(t, e);\n    }, t.exports.fromDepth = i;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var n = r(2),\n        i = r(3),\n        a = r(10),\n        o = r(11),\n        s = r(13),\n        u = new WeakMap(),\n        c = function () {\n      function t(t, e) {\n        var r = this;\n\n        if (this.name = \"\", this.notes = [], this.controlChanges = a.createControlChanges(), u.set(this, e), t) {\n          var n = t.find(function (t) {\n            return \"trackName\" === t.type;\n          });\n          this.name = n ? n.text : \"\";\n        }\n\n        if (this.instrument = new o.Instrument(t, this), this.channel = 0, t) {\n          for (var i = t.filter(function (t) {\n            return \"noteOn\" === t.type;\n          }), s = t.filter(function (t) {\n            return \"noteOff\" === t.type;\n          }), c = function () {\n            var t = i.shift(),\n                e = s.findIndex(function (e) {\n              return e.noteNumber === t.noteNumber;\n            });\n\n            if (-1 !== e) {\n              var r = s.splice(e, 1)[0];\n              h.addNote({\n                durationTicks: r.absoluteTime - t.absoluteTime,\n                midi: t.noteNumber,\n                noteOffVelocity: r.velocity / 127,\n                ticks: t.absoluteTime,\n                velocity: t.velocity / 127\n              });\n            }\n          }, h = this; i.length;) c();\n\n          t.filter(function (t) {\n            return \"controller\" === t.type;\n          }).forEach(function (t) {\n            r.addCC({\n              number: t.controllerType,\n              ticks: t.absoluteTime,\n              value: t.value / 127\n            });\n          });\n        }\n      }\n\n      return t.prototype.addNote = function (t) {\n        void 0 === t && (t = {});\n        var e = u.get(this),\n            r = new s.Note({\n          midi: 0,\n          ticks: 0,\n          velocity: 1\n        }, {\n          ticks: 0,\n          velocity: 0\n        }, e);\n        return Object.assign(r, t), n.insert(this.notes, r, \"ticks\"), this;\n      }, t.prototype.addCC = function (t) {\n        var e = u.get(this),\n            r = new i.ControlChange({\n          controllerType: t.number\n        }, e);\n        return delete t.number, Object.assign(r, t), Array.isArray(this.controlChanges[r.number]) || (this.controlChanges[r.number] = []), n.insert(this.controlChanges[r.number], r, \"ticks\"), this;\n      }, Object.defineProperty(t.prototype, \"duration\", {\n        get: function () {\n          var t = this.notes[this.notes.length - 1];\n          return t ? t.time + t.duration : 0;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"durationTicks\", {\n        get: function () {\n          var t = this.notes[this.notes.length - 1];\n          return t ? t.ticks + t.durationTicks : 0;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.fromJSON = function (t) {\n        var e = this;\n\n        for (var r in this.name = t.name, this.channel = t.channel, this.instrument = new o.Instrument(void 0, this), this.instrument.fromJSON(t.instrument), t.controlChanges) t.controlChanges[r] && t.controlChanges[r].forEach(function (t) {\n          e.addCC({\n            number: t.number,\n            ticks: t.ticks,\n            value: t.value\n          });\n        });\n\n        t.notes.forEach(function (t) {\n          e.addNote({\n            durationTicks: t.durationTicks,\n            midi: t.midi,\n            ticks: t.ticks,\n            velocity: t.velocity\n          });\n        });\n      }, t.prototype.toJSON = function () {\n        for (var t = {}, e = 0; e < 127; e++) this.controlChanges.hasOwnProperty(e) && (t[e] = this.controlChanges[e].map(function (t) {\n          return t.toJSON();\n        }));\n\n        return {\n          channel: this.channel,\n          controlChanges: t,\n          instrument: this.instrument.toJSON(),\n          name: this.name,\n          notes: this.notes.map(function (t) {\n            return t.toJSON();\n          })\n        };\n      }, t;\n    }();\n\n    e.Track = c;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n    var n = r(3);\n\n    e.createControlChanges = function () {\n      return new Proxy({}, {\n        get: function (t, e) {\n          return t[e] ? t[e] : n.controlChangeIds.hasOwnProperty(e) ? t[n.controlChangeIds[e]] : void 0;\n        },\n        set: function (t, e, r) {\n          return n.controlChangeIds.hasOwnProperty(e) ? t[n.controlChangeIds[e]] = r : t[e] = r, !0;\n        }\n      });\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var n = r(12),\n        i = new WeakMap(),\n        a = function () {\n      function t(t, e) {\n        if (this.number = 0, i.set(this, e), this.number = 0, t) {\n          var r = t.find(function (t) {\n            return \"programChange\" === t.type;\n          });\n          r && (this.number = r.programNumber);\n        }\n      }\n\n      return Object.defineProperty(t.prototype, \"name\", {\n        get: function () {\n          return this.percussion ? n.drumKitByPatchID[this.number] : n.instrumentByPatchID[this.number];\n        },\n        set: function (t) {\n          var e = n.instrumentByPatchID.indexOf(t);\n          -1 !== e && (this.number = e);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"family\", {\n        get: function () {\n          return this.percussion ? \"drums\" : n.instrumentFamilyByID[Math.floor(this.number / 8)];\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"percussion\", {\n        get: function () {\n          var t = i.get(this);\n          return [9, 10].includes(t.channel);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.toJSON = function () {\n        return {\n          family: this.family,\n          name: this.name,\n          number: this.number\n        };\n      }, t.prototype.fromJSON = function (t) {\n        this.number = t.number;\n      }, t;\n    }();\n\n    e.Instrument = a;\n  }, function (t, e, r) {\n    \"use strict\";\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.instrumentByPatchID = [\"acoustic grand piano\", \"bright acoustic piano\", \"electric grand piano\", \"honky-tonk piano\", \"electric piano 1\", \"electric piano 2\", \"harpsichord\", \"clavi\", \"celesta\", \"glockenspiel\", \"music box\", \"vibraphone\", \"marimba\", \"xylophone\", \"tubular bells\", \"dulcimer\", \"drawbar organ\", \"percussive organ\", \"rock organ\", \"church organ\", \"reed organ\", \"accordion\", \"harmonica\", \"tango accordion\", \"acoustic guitar (nylon)\", \"acoustic guitar (steel)\", \"electric guitar (jazz)\", \"electric guitar (clean)\", \"electric guitar (muted)\", \"overdriven guitar\", \"distortion guitar\", \"guitar harmonics\", \"acoustic bass\", \"electric bass (finger)\", \"electric bass (pick)\", \"fretless bass\", \"slap bass 1\", \"slap bass 2\", \"synth bass 1\", \"synth bass 2\", \"violin\", \"viola\", \"cello\", \"contrabass\", \"tremolo strings\", \"pizzicato strings\", \"orchestral harp\", \"timpani\", \"string ensemble 1\", \"string ensemble 2\", \"synthstrings 1\", \"synthstrings 2\", \"choir aahs\", \"voice oohs\", \"synth voice\", \"orchestra hit\", \"trumpet\", \"trombone\", \"tuba\", \"muted trumpet\", \"french horn\", \"brass section\", \"synthbrass 1\", \"synthbrass 2\", \"soprano sax\", \"alto sax\", \"tenor sax\", \"baritone sax\", \"oboe\", \"english horn\", \"bassoon\", \"clarinet\", \"piccolo\", \"flute\", \"recorder\", \"pan flute\", \"blown bottle\", \"shakuhachi\", \"whistle\", \"ocarina\", \"lead 1 (square)\", \"lead 2 (sawtooth)\", \"lead 3 (calliope)\", \"lead 4 (chiff)\", \"lead 5 (charang)\", \"lead 6 (voice)\", \"lead 7 (fifths)\", \"lead 8 (bass + lead)\", \"pad 1 (new age)\", \"pad 2 (warm)\", \"pad 3 (polysynth)\", \"pad 4 (choir)\", \"pad 5 (bowed)\", \"pad 6 (metallic)\", \"pad 7 (halo)\", \"pad 8 (sweep)\", \"fx 1 (rain)\", \"fx 2 (soundtrack)\", \"fx 3 (crystal)\", \"fx 4 (atmosphere)\", \"fx 5 (brightness)\", \"fx 6 (goblins)\", \"fx 7 (echoes)\", \"fx 8 (sci-fi)\", \"sitar\", \"banjo\", \"shamisen\", \"koto\", \"kalimba\", \"bag pipe\", \"fiddle\", \"shanai\", \"tinkle bell\", \"agogo\", \"steel drums\", \"woodblock\", \"taiko drum\", \"melodic tom\", \"synth drum\", \"reverse cymbal\", \"guitar fret noise\", \"breath noise\", \"seashore\", \"bird tweet\", \"telephone ring\", \"helicopter\", \"applause\", \"gunshot\"], e.instrumentFamilyByID = [\"piano\", \"chromatic percussion\", \"organ\", \"guitar\", \"bass\", \"strings\", \"ensemble\", \"brass\", \"reed\", \"pipe\", \"synth lead\", \"synth pad\", \"synth effects\", \"world\", \"percussive\", \"sound effects\"], e.drumKitByPatchID = {\n      0: \"standard kit\",\n      8: \"room kit\",\n      16: \"power kit\",\n      24: \"electronic kit\",\n      25: \"tr-808 kit\",\n      32: \"jazz kit\",\n      40: \"brush kit\",\n      48: \"orchestra kit\",\n      56: \"sound fx kit\"\n    };\n  }, function (t, e, r) {\n    \"use strict\";\n\n    function n(t) {\n      return [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"][t % 12];\n    }\n\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    });\n\n    var i,\n        a,\n        o = (i = /^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i, a = {\n      cbb: -2,\n      cb: -1,\n      c: 0,\n      \"c#\": 1,\n      cx: 2,\n      dbb: 0,\n      db: 1,\n      d: 2,\n      \"d#\": 3,\n      dx: 4,\n      ebb: 2,\n      eb: 3,\n      e: 4,\n      \"e#\": 5,\n      ex: 6,\n      fbb: 3,\n      fb: 4,\n      f: 5,\n      \"f#\": 6,\n      fx: 7,\n      gbb: 5,\n      gb: 6,\n      g: 7,\n      \"g#\": 8,\n      gx: 9,\n      abb: 7,\n      ab: 8,\n      a: 9,\n      \"a#\": 10,\n      ax: 11,\n      bbb: 9,\n      bb: 10,\n      b: 11,\n      \"b#\": 12,\n      bx: 13\n    }, function (t) {\n      var e = i.exec(t),\n          r = e[1],\n          n = e[2];\n      return a[r.toLowerCase()] + 12 * (parseInt(n, 10) + 1);\n    }),\n        s = new WeakMap(),\n        u = function () {\n      function t(t, e, r) {\n        s.set(this, r), this.midi = t.midi, this.velocity = t.velocity, this.noteOffVelocity = e.velocity, this.ticks = t.ticks, this.durationTicks = e.ticks - t.ticks;\n      }\n\n      return Object.defineProperty(t.prototype, \"name\", {\n        get: function () {\n          return t = this.midi, e = Math.floor(t / 12) - 1, n(t) + e.toString();\n          var t, e;\n        },\n        set: function (t) {\n          this.midi = o(t);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"octave\", {\n        get: function () {\n          return Math.floor(this.midi / 12) - 1;\n        },\n        set: function (t) {\n          var e = t - this.octave;\n          this.midi += 12 * e;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"pitch\", {\n        get: function () {\n          return n(this.midi);\n        },\n        set: function (t) {\n          this.midi = 12 * (this.octave + 1) + [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"].indexOf(t);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"duration\", {\n        get: function () {\n          var t = s.get(this);\n          return t.ticksToSeconds(this.ticks + this.durationTicks) - t.ticksToSeconds(this.ticks);\n        },\n        set: function (t) {\n          var e = s.get(this).secondsToTicks(this.time + t);\n          this.durationTicks = e - this.ticks;\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"time\", {\n        get: function () {\n          return s.get(this).ticksToSeconds(this.ticks);\n        },\n        set: function (t) {\n          var e = s.get(this);\n          this.ticks = e.secondsToTicks(t);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"bars\", {\n        get: function () {\n          return s.get(this).ticksToMeasures(this.ticks);\n        },\n        enumerable: !0,\n        configurable: !0\n      }), t.prototype.toJSON = function () {\n        return {\n          duration: this.duration,\n          durationTicks: this.durationTicks,\n          midi: this.midi,\n          name: this.name,\n          ticks: this.ticks,\n          time: this.time,\n          velocity: this.velocity\n        };\n      }, t;\n    }();\n\n    e.Note = u;\n  }]).Midi;\n});","map":null,"metadata":{},"sourceType":"script"}